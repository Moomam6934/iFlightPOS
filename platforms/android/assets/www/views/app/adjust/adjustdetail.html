<ion-view view-title="Defect Detail">
    <ion-nav-buttons side="right">
        <button class="button button-clear button-light" ng-click="addDefect(defect.remark)" ng-disabled="!defect.unit || !defect.remark || defect.remark == 'other'? !defect.other? true : false :false || defect.remark == 'claim'? !defect.product_code? true : false :false "><b>Done</b></button>
    </ion-nav-buttons>
    <ion-content scroll="false" overflow-scroll="false" has-bouncing="true" class="icon-red">
        <div class="row item item-text-wrap">
            <div class="col col-40 "><img class="style-pix-h150-w150" ng-src="{{detail.img}}">
            </div>
            <div class="col col-60 text-center">
                <br>
                <span class="product-title icon-red">{{detail.name}}</span>
                <h1 class="product-price icon-red ">{{detail.price}} THB</h1>
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col col-100">
                <div class="list">
                    <label class="item item-input item-select">
                        <div class="input-label">
                            Unit<span style="color:red;">*</span>
                        </div>
                        <select ng-model="defect.unit">
                            <option ng-repeat="qty in qtyAdjust(detail.total_qty)">{{qty}}</option>
                        </select>
                    </label>
                    <label class="item item-input item-select">
                        <div class="input-label">
                            Remark<span style="color:red;">*</span>
                        </div>
                        <select ng-model="defect.remark">
                            <option>Dilapidated</option>
                            <option>Lend</option>
                            <option value="claim">Claim</option>
                            <option value="other">Other</option>
                        </select>
                    </label>
                    <div class="list" ng-show="defect.remark == 'other'">
                        <label class="item item-input">
                            <span class="input-label">Other <span style="color:red;">*</span></span>
                            <input type="text" ng-model="defect.other">
                        </label>
                    </div>
                    <div class="list" ng-show="defect.remark == 'claim'">
                        <label class="item item-input">
                            <span class="input-label">Product Code <span style="color:red;">*</span></span>
                            <input type="text" ng-model="defect.product_code" style="text-align : right">
                        </label>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </ion-content>
</ion-view>
